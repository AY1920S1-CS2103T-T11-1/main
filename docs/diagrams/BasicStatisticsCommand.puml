@startuml
!include style.puml

box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant ":MooLahParser" as MooLahParser LOGIC_COLOR
participant ":StatsCommandParser" as StatsCommandParser LOGIC_COLOR
participant "desc:StatsDescriptor" as StatsDescriptor LOGIC_COLOR
participant "cmd:StatsCommand" as StatsCommand LOGIC_COLOR
participant "result:CommandResult" as CommandResult LOGIC_COLOR
end box

box Model MODEL_COLOR_T1
participant ":ModelManager" as ModelManager MODEL_COLOR
participant "statistics:PieChartStatistics" as Statistics MODEL_COLOR
end box

[-> LogicManager : execute("statsbasic \n sd/01-10-2019 \n ed/01-11-2019")
activate LogicManager

LogicManager -> MooLahParser : parseCommand(statsbasic \n sd/01-10-2019 \n ed/01-11-2019")
activate MooLahParser

create StatsCommandParser
MooLahParser -> StatsCommandParser
activate StatsCommandParser

StatsCommandParser --> MooLahParser
deactivate StatsCommandParser

MooLahParser -> StatsCommandParser : parse("statsbasic \n sd/01-10-2019 \n ed/01-11-2019)
activate StatsCommandParser

create StatsDescriptor
StatsCommandParser -> StatsDescriptor
activate StatsDescriptor

StatsDescriptor --> StatsCommandParser : desc


StatsCommandParser -> StatsDescriptor


StatsDescriptor --> StatsCommandParser
deactivate StatsDescriptor

ref over StatsCommandParser, StatsDescriptor : Sets the Optional parameters for StatsDescriptor


create StatsCommand
StatsCommandParser -> StatsCommand : (desc)
activate StatsCommand

StatsCommand --> StatsCommandParser : cmd
deactivate StatsCommand

StatsCommandParser --> MooLahParser : cmd
deactivate StatsCommandParser

MooLahParser --> LogicManager : cmd
deactivate MooLahParser

LogicManager -> StatsCommand : execute()
activate StatsCommand

StatsCommand -> ModelManager : getPrimaryBudget()
activate ModelManager

ModelManager --> StatsCommand : primaryBudget
deactivate ModelManager

create Statistics
StatsCommand -> Statistics : createPieChartStatistics(\n primaryBudget, \n desc)
activate Statistics

ref over Statistics, Statistics : create populated Statistics \n with start date and end date
Statistics --> Statistics


Statistics -> StatsCommand : statistics
deactivate Statistics


StatsCommand -> ModelManager : setStatistic(statistics)
activate ModelManager

ModelManager --> StatsCommand
deactivate ModelManager

create CommandResult
StatsCommand -> CommandResult
activate CommandResult

CommandResult --> StatsCommand : result
deactivate CommandResult

StatsCommand --> LogicManager : result
deactivate StatsCommand

[<--LogicManager : result
deactivate LogicManager




@enduml
